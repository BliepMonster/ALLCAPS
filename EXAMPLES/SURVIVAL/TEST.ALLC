ROOT EXAMPLES/SURVIVAL/
INIT PROGRAM PRINT_STATS.ALLC
ASSOCIATE STACK WITH PRINT_STATS
INIT PROGRAM GET_WATER.ALLC
ASSOCIATE STACK WITH GET_WATER
INIT PROGRAM GET_HUNGER.ALLC
ASSOCIATE STACK WITH GET_HUNGER
INIT PROGRAM GET_HEALTH.ALLC
ASSOCIATE STACK WITH GET_HEALTH
INIT PROGRAM GET_ENERGY.ALLC
ASSOCIATE STACK WITH GET_ENERGY
INIT PROGRAM ACTIONS/PRINT_ACTIONS.ALLC
ASSOCIATE STACK WITH PRINT_ACTIONS
INIT PROGRAM ACTIONS/PERFORMER.ALLC
ASSOCIATE STACK WITH PERFORM_ACTIONS
INIT PROGRAM DECAY.ALLC
ASSOCIATE STACK WITH DECAY

SET NEW
ASSOCIATE STACK WITH PLAYER

DUPLICATE
DUPLICATE
DUPLICATE
SET PUT STACK 0 100
SET PUT STACK 1 100
SET PUT STACK 2 100
SET PUT STACK 3 100

SET NEW
LOAD FROM ASSOCIATION PLAYER
ASSOCIATE 0 WITH WOOD_INDEX
SET PUT STACK 4 STACK

PUSH STRING #YOU ARE STRANDED ON A DESERTED ISLAND...#

LIST NEW
ASSOCIATE STACK WITH ACTIONS

PRINT CHAR ALL
INPUT LINE ON STACK
PUSH INT 1
ALLOC 1 1
PUSH INT 1
ALLOC 1 2

LABEL LOOP_START
    LOAD FROM ASSOCIATION PRINT_STATS
    EXECUTE PROGRAM STACK
    CLEAR STACK
    LOAD FROM ASSOCIATION PRINT_ACTIONS
    EXECUTE PROGRAM STACK
    LOAD FROM ASSOCIATION PERFORM_ACTIONS
    EXECUTE PROGRAM STACK

    LOAD FROM ASSOCIATION DECAY
    EXECUTE PROGRAM STACK

    PUSH INT 1
    ALLOC 1 2

    RETRIEVE 1 1
IF STACK GOTO LABEL LOOP_START
END